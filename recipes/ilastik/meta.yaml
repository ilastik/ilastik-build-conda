{% set git_tag = environ.get('ILASTIK_VERSION', 'add-volumina-submodule') %}

package:
  name: ilastik
  # If we're using a non-tagged revision, append 'postN' to the version
  {% if GIT_DESCRIBE_NUMBER|int %}
  version: {{ GIT_DESCRIBE_TAG }}post{{ GIT_DESCRIBE_NUMBER }}
  {% else %}
  version: {{ GIT_DESCRIBE_TAG }}
  {% endif %}

source:
  git_url: https://github.com/k-dominik/ilastik
  git_rev: {{ git_tag }}

build:
  number: 0
  string: {{PKG_BUILDNUM}}_g{{GIT_FULL_HASH[:7]}}

requirements:
  build:
    - python {{ python }}
  run:
    - python
